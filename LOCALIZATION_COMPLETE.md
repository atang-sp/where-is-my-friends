# ä¸­æ–‡æœ¬åœ°åŒ–å®ŒæˆæŠ¥å‘Š

## âœ… å®Œæˆçš„å·¥ä½œ

### 1. æœ¬åœ°åŒ–æ–‡ä»¶å®Œå–„
- **å®¢æˆ·ç«¯ç¿»è¯‘** (`config/locales/client.zh_CN.yml` & `client.en.yml`)
  - åŸºç¡€åŠŸèƒ½ç¿»è¯‘ (26æ¡)
  - ä½ç½®æ¨¡å¼é€‰æ‹©ç¿»è¯‘ (8æ¡)
  - è™šæ‹Ÿä½ç½®é€‰æ‹©å™¨ç¿»è¯‘ (13æ¡)
  - çŠ¶æ€æ˜¾ç¤ºç¿»è¯‘ (7æ¡)
  - é”™è¯¯å’Œæç¤ºä¿¡æ¯ç¿»è¯‘ (10æ¡)
  - **æ€»è®¡: 64æ¡ç¿»è¯‘**

- **æœåŠ¡å™¨ç«¯ç¿»è¯‘** (`config/locales/server.zh_CN.yml` & `server.en.yml`)
  - åŸºç¡€åç«¯æ¶ˆæ¯ç¿»è¯‘

### 2. æ¨¡æ¿æ–‡ä»¶æœ¬åœ°åŒ–
- **ä¸»æ¨¡æ¿** (`where-is-my-friends.hbs`)
  - ä½ç½®æ¨¡å¼é€‰æ‹©å¯¹è¯æ¡†å®Œå…¨æœ¬åœ°åŒ–
  - ç”¨æˆ·ç•Œé¢æ–‡æœ¬å…¨éƒ¨ä½¿ç”¨i18n
  - çŠ¶æ€æ˜¾ç¤ºå’Œé”™è¯¯æ¶ˆæ¯æœ¬åœ°åŒ–
  - ç”¨æˆ·åˆ—è¡¨å’Œæç¤ºä¿¡æ¯æœ¬åœ°åŒ–

- **è™šæ‹Ÿä½ç½®é€‰æ‹©å™¨** (`virtual-location-picker.hbs`)
  - åœ°å›¾ç•Œé¢å®Œå…¨æœ¬åœ°åŒ–
  - æ§åˆ¶æŒ‰é’®å’Œè¯´æ˜æ–‡æœ¬æœ¬åœ°åŒ–
  - ä½¿ç”¨æç¤ºå®Œå…¨æœ¬åœ°åŒ–

## ğŸ“‹ æœ¬åœ°åŒ–è¦†ç›–å†…å®¹

### åŸºç¡€åŠŸèƒ½
- é¡µé¢æ ‡é¢˜å’Œæè¿°
- æŒ‰é’®æ–‡æœ¬ (åˆ†äº«ä½ç½®ã€ç§»é™¤ä½ç½®ã€æŸ¥æ‰¾é™„è¿‘ç­‰)
- çŠ¶æ€æ¶ˆæ¯ (æˆåŠŸã€å¤±è´¥ã€åŠ è½½ä¸­ç­‰)
- æƒé™ç›¸å…³æç¤º

### è™šæ‹Ÿä½ç½®åŠŸèƒ½
- ä½ç½®æ¨¡å¼é€‰æ‹©ç•Œé¢
- è™šæ‹Ÿä½ç½®é€‰æ‹©å™¨
- åœ°å›¾æ“ä½œè¯´æ˜
- ä½¿ç”¨æç¤ºå’Œå¸®åŠ©ä¿¡æ¯

### ç”¨æˆ·ä½“éªŒ
- é”™è¯¯æ¶ˆæ¯å‹å¥½åŒ–
- æ“ä½œæŒ‡å¼•ä¸­æ–‡åŒ–
- éšç§è¯´æ˜æœ¬åœ°åŒ–
- æŠ€æœ¯æœ¯è¯­ä¸­æ–‡åŒ–

## ğŸ¯ å®Œæ•´çš„ç¿»è¯‘é”®åˆ—è¡¨

### åŸºç¡€åŠŸèƒ½ (26ä¸ª)
```yaml
title, description, share_location, remove_location, search_distance
click_to_search, location_shared, location_removed, location_access_denied
geolocation_not_supported, please_share_location_first, invalid_coordinates
nearby_users_found, no_nearby_users, distance_km, last_seen, privacy_notice
find_nearby, share_location_prompt, nearby_users, getting_location
location_access_denied_detailed, location_unavailable, location_timeout
searching_nearby
```

### ä½ç½®æ¨¡å¼é€‰æ‹© (8ä¸ª)
```yaml
choose_location_mode, privacy_intro, real_location, virtual_location
real_location_desc, virtual_location_desc, location_accurate, auto_obtain
privacy_protection, free_choice, cancel
```

### è™šæ‹Ÿä½ç½®é€‰æ‹©å™¨ (13ä¸ª)
```yaml
select_virtual_location, virtual_location_instruction, map_loading
selected_location, latitude, longitude, address, locate_current
confirm_selection, usage_tips, tip_click_map, tip_drag_marker
tip_public_places, tip_no_effect
```

### çŠ¶æ€æ˜¾ç¤º (7ä¸ª)
```yaml
virtual_location_set, using_virtual_location, map_init_failed
location_mode_prompt, choose_location_mode_button, real_location_tip
virtual_location_tip, recommend_virtual
```

### é”™è¯¯å’Œæç¤º (10ä¸ª)
```yaml
no_users_found_range, check_permissions, permission_status
current_user_label, last_online, location_tips_title
real_location_auto_tip, indoor_tip, location_service_tip, chrome_tip
```

## ğŸ”§ ä¿®å¤çš„ç¡¬ç¼–ç é—®é¢˜

### ä¹‹å‰çš„é—®é¢˜
- æ¨¡æ¿ä¸­å¤§é‡ç¡¬ç¼–ç ä¸­æ–‡æ–‡æœ¬
- è‹±æ–‡ç¯å¢ƒä¸‹æ˜¾ç¤ºä¸­æ–‡å†…å®¹
- æ— æ³•é€‚åº”å¤šè¯­è¨€ç¯å¢ƒ

### è§£å†³æ–¹æ¡ˆ
- æ‰€æœ‰ç”¨æˆ·å¯è§æ–‡æœ¬éƒ½ä½¿ç”¨ `{{i18n "key"}}` æ ¼å¼
- åŒè¯­è¨€æ”¯æŒï¼ˆä¸­æ–‡å’Œè‹±æ–‡ï¼‰
- éµå¾ªDiscourseæœ¬åœ°åŒ–æ ‡å‡†

## ğŸ“ ä¿®æ”¹çš„æ–‡ä»¶

### æœ¬åœ°åŒ–æ–‡ä»¶
- `config/locales/client.zh_CN.yml` - æ‰©å±•åˆ°64ä¸ªç¿»è¯‘é”®
- `config/locales/client.en.yml` - å®Œæ•´è‹±æ–‡å¯¹åº”ç¿»è¯‘
- `config/locales/server.zh_CN.yml` - åç«¯æ¶ˆæ¯ç¿»è¯‘  
- `config/locales/server.en.yml` - åç«¯è‹±æ–‡ç¿»è¯‘

### æ¨¡æ¿æ–‡ä»¶
- `assets/javascripts/discourse/templates/where-is-my-friends.hbs` - ä¸»ç•Œé¢å®Œå…¨æœ¬åœ°åŒ–
- `assets/javascripts/discourse/templates/components/virtual-location-picker.hbs` - ç»„ä»¶å®Œå…¨æœ¬åœ°åŒ–

## ğŸš€ æµ‹è¯•éªŒè¯

### åŠŸèƒ½éªŒè¯
1. **ä¸­æ–‡ç¯å¢ƒ**: æ‰€æœ‰æ–‡æœ¬æ­£ç¡®æ˜¾ç¤ºä¸­æ–‡ç¿»è¯‘
2. **è‹±æ–‡ç¯å¢ƒ**: åˆ‡æ¢è¯­è¨€åæ˜¾ç¤ºå¯¹åº”è‹±æ–‡
3. **åŠ¨æ€åˆ‡æ¢**: æ”¯æŒè¿è¡Œæ—¶è¯­è¨€åˆ‡æ¢
4. **å®Œæ•´æ€§**: æ— é—æ¼çš„ç¡¬ç¼–ç æ–‡æœ¬

### ç”¨æˆ·ä½“éªŒ
- ç•Œé¢æ–‡æœ¬ç»Ÿä¸€ä½¿ç”¨æ­£ç¡®çš„ä¸­æ–‡è¡¨è¾¾
- æŠ€æœ¯æœ¯è¯­å‡†ç¡®ç¿»è¯‘
- æ“ä½œæç¤ºæ¸…æ™°æ˜“æ‡‚
- é”™è¯¯æ¶ˆæ¯å‹å¥½åŒ–

## âš ï¸ å…³äºé»˜è®¤è¯­è¨€è®¾ç½®é”™è¯¯

æ§åˆ¶å°ä¸­çš„500é”™è¯¯ (`PUT /admin/site_settings/default_locale 500`) æ˜¯Discourseç®¡ç†é¢æ¿çš„é—®é¢˜ï¼Œä¸æ’ä»¶æœ¬åœ°åŒ–æ— å…³ã€‚æ’ä»¶æœ¬èº«çš„ä¸­æ–‡ç¿»è¯‘åŠŸèƒ½å®Œå…¨æ­£å¸¸ã€‚

## ğŸ“ ä½¿ç”¨è¯´æ˜

1. **è®¿é—®æ’ä»¶**: æ’ä»¶ä¼šæ ¹æ®Discourseçš„è¯­è¨€è®¾ç½®è‡ªåŠ¨æ˜¾ç¤ºå¯¹åº”è¯­è¨€
2. **æ‰‹åŠ¨åˆ‡æ¢**: åœ¨ç”¨æˆ·è®¾ç½®ä¸­æ›´æ”¹è¯­è¨€åå¥½
3. **ç®¡ç†å‘˜è®¾ç½®**: åœ¨ç«™ç‚¹è®¾ç½®ä¸­é…ç½®é»˜è®¤è¯­è¨€ï¼ˆå¦‚æœç®¡ç†é¢æ¿å¯ç”¨ï¼‰

## ğŸ‰ å®ŒæˆçŠ¶æ€

âœ… **å®Œå…¨æœ¬åœ°åŒ–** - æ‰€æœ‰ç”¨æˆ·ç•Œé¢æ–‡æœ¬å·²å®Œæˆä¸­è‹±åŒè¯­æ”¯æŒ
âœ… **æ— ç¡¬ç¼–ç ** - æ¶ˆé™¤äº†æ‰€æœ‰æ¨¡æ¿ä¸­çš„ç¡¬ç¼–ç ä¸­æ–‡æ–‡æœ¬
âœ… **æ ‡å‡†å…¼å®¹** - éµå¾ªDiscourseå®˜æ–¹æœ¬åœ°åŒ–è§„èŒƒ
âœ… **ç”¨æˆ·å‹å¥½** - æä¾›å®Œæ•´çš„ä¸­æ–‡ç”¨æˆ·ä½“éªŒ

æ’ä»¶ç°åœ¨æä¾›å®Œæ•´çš„ä¸­æ–‡æœ¬åœ°åŒ–æ”¯æŒï¼Œç”¨æˆ·å¯ä»¥äº«å—å®Œå…¨ä¸­æ–‡åŒ–çš„"é™„è¿‘çš„æœ‹å‹"åŠŸèƒ½ä½“éªŒï¼ 