# Where Is My Friends - Discourse Plugin

ä¸€ä¸ªDiscourseæ’ä»¶ï¼Œå…è®¸ç”¨æˆ·å‘ç°é™„è¿‘çš„æœ‹å‹ï¼ŒåŒæ—¶ä¿æŠ¤ç”¨æˆ·éšç§ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ”’ **éšç§ä¿æŠ¤**: ç”¨æˆ·ä½ç½®ä¿¡æ¯ä¼šè¢«æ¨¡ç³ŠåŒ–å¤„ç†ï¼ˆÂ±500ç±³éšæœºåç§»ï¼‰
- ğŸ“ **ä½ç½®åˆ†äº«**: ç”¨æˆ·å¯ä»¥ä¸»åŠ¨åˆ†äº«è‡ªå·±çš„ä½ç½®
- ğŸ” **é™„è¿‘æœç´¢**: æœç´¢æŒ‡å®šè·ç¦»å†…çš„å…¶ä»–ç”¨æˆ·
- ğŸ¯ **è·ç¦»é€‰æ‹©**: æ”¯æŒ1kmåˆ°50kmçš„æœç´¢èŒƒå›´
- ğŸ“± **å“åº”å¼è®¾è®¡**: æ”¯æŒç§»åŠ¨ç«¯å’Œæ¡Œé¢ç«¯
- ğŸŒ **å›½é™…åŒ–**: æ”¯æŒä¸­æ–‡ç•Œé¢

## å®‰è£…

1. å°†æ’ä»¶æ–‡ä»¶å¤¹å¤åˆ¶åˆ° `plugins/` ç›®å½•
2. åœ¨Discourseç®¡ç†åå°å¯ç”¨æ’ä»¶
3. è¿è¡Œæ•°æ®åº“è¿ç§»ï¼š`bundle exec rake db:migrate`

## ä½¿ç”¨æ–¹æ³•

1. ç”¨æˆ·è®¿é—® `/where-is-my-friends` é¡µé¢
2. ç‚¹å‡»"åˆ†äº«æˆ‘çš„ä½ç½®"æŒ‰é’®ï¼Œå…è®¸æµè§ˆå™¨è·å–ä½ç½®
3. é€‰æ‹©æœç´¢è·ç¦»ï¼ˆ1-50å…¬é‡Œï¼‰
4. æŸ¥çœ‹é™„è¿‘çš„æœ‹å‹åˆ—è¡¨

## éšç§ä¿æŠ¤

- ä½ç½®åæ ‡ä¼šæ·»åŠ éšæœºåç§»ï¼ˆÂ±500ç±³ï¼‰
- åªæ˜¾ç¤ºæ¨¡ç³Šè·ç¦»ï¼Œä¸æ˜¾ç¤ºç²¾ç¡®åæ ‡
- ç”¨æˆ·å¯ä»¥éšæ—¶ç§»é™¤ä½ç½®ä¿¡æ¯
- ä½ç½®ä¿¡æ¯ä»…ç”¨äºåŒ¹é…é™„è¿‘ç”¨æˆ·

## æŠ€æœ¯å®ç°

- **åç«¯**: Ruby on Rails, PostgreSQL
- **å‰ç«¯**: Ember.js, SCSS
- **ä½ç½®è®¡ç®—**: Haversineå…¬å¼
- **API**: RESTful APIè®¾è®¡

## é…ç½®

åœ¨Discourseç®¡ç†åå°å¯ä»¥é…ç½®ï¼š
- æ’ä»¶å¯ç”¨/ç¦ç”¨
- é»˜è®¤æœç´¢è·ç¦»
- æœ€å¤§æœç´¢è·ç¦»é™åˆ¶
- **é™„è¿‘ç”¨æˆ·åˆ—è¡¨æœ€å¤§æ˜¾ç¤ºæ•°é‡** (æ–°å¢)
- è™šæ‹Ÿå®šä½åŠŸèƒ½å¯ç”¨/ç¦ç”¨
- åœ°å›¾æœåŠ¡æä¾›å•†é€‰æ‹©

### é…ç½®é¡¹è¯´æ˜

| é…ç½®é¡¹ | é»˜è®¤å€¼ | èŒƒå›´ | è¯´æ˜ |
|--------|--------|------|------|
| `where_is_my_friends_enabled` | true | - | å¯ç”¨/ç¦ç”¨æ’ä»¶ |
| `where_is_my_friends_default_distance_km` | 50 | 1-5000 | é»˜è®¤æœç´¢è·ç¦»ï¼ˆåƒç±³ï¼‰ |
| `where_is_my_friends_max_distance_km` | 50 | 1-5000 | å…è®¸çš„æœ€å¤§æœç´¢è·ç¦»ï¼ˆåƒç±³ï¼‰ |
| `where_is_my_friends_max_users_display` | 50 | 10-200 | é™„è¿‘ç”¨æˆ·åˆ—è¡¨çš„æœ€å¤§æ˜¾ç¤ºæ•°é‡ |
| `where_is_my_friends_enable_virtual_location` | true | - | å¯ç”¨è™šæ‹Ÿå®šä½åŠŸèƒ½ |
| `where_is_my_friends_map_provider` | amap | amap/baidu/openstreetmap | åœ°å›¾æœåŠ¡æä¾›å•† |

## å¼€å‘

### ç›®å½•ç»“æ„
```
where-is-my-friends/
â”œâ”€â”€ plugin.rb                    # æ’ä»¶ä¸»æ–‡ä»¶
â”œâ”€â”€ README.md                    # è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ app/                         # åç«¯ä»£ç 
â”‚   â”œâ”€â”€ controllers/            # æ§åˆ¶å™¨
â”‚   â”œâ”€â”€ models/                 # æ¨¡å‹
â”‚   â””â”€â”€ serializers/            # åºåˆ—åŒ–å™¨
â”œâ”€â”€ assets/                      # å‰ç«¯èµ„æº
â”‚   â”œâ”€â”€ javascripts/            # JavaScriptæ–‡ä»¶
â”‚   â””â”€â”€ stylesheets/            # æ ·å¼æ–‡ä»¶
â”œâ”€â”€ config/                      # é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ locales/                # å›½é™…åŒ–æ–‡ä»¶
â””â”€â”€ db/                         # æ•°æ®åº“è¿ç§»
    â””â”€â”€ migrate/
```

### å¼€å‘å‘½ä»¤
```bash
# è¿è¡Œè¿ç§»
bundle exec rake db:migrate

# é‡å¯Discourse
./launcher restart app

# æŸ¥çœ‹æ—¥å¿—
./launcher logs app
```

## è®¸å¯è¯

MIT License

## è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼

## æ›´æ–°æ—¥å¿—

### v0.2.0
- ğŸ†• æ·»åŠ é™„è¿‘ç”¨æˆ·åˆ—è¡¨æœ€å¤§æ˜¾ç¤ºæ•°é‡é…ç½®é€‰é¡¹
- ğŸ”§ ç®¡ç†å‘˜å¯åœ¨åå°è®¾ç½®ä¸­è°ƒæ•´æ˜¾ç¤ºæ•°é‡ï¼ˆ10-200ä¸ªç”¨æˆ·ï¼‰
- ğŸŒ æ·»åŠ ç›¸åº”çš„ä¸­è‹±æ–‡ç¿»è¯‘æ”¯æŒ
- ğŸ”„ ä¿æŒå‘åå…¼å®¹æ€§ï¼Œé»˜è®¤å€¼ä¸º50ä¸ªç”¨æˆ·

### v0.1.0
- åˆå§‹ç‰ˆæœ¬
- åŸºç¡€ä½ç½®åˆ†äº«åŠŸèƒ½
- é™„è¿‘ç”¨æˆ·æœç´¢
- éšç§ä¿æŠ¤æœºåˆ¶
